{"version":3,"sources":["Connection.js","App.js","index.js"],"names":["Panel","Collapse","Connection","url","uuid","add","useState","connection","setConnection","text","setText","sent","setSent","received","setReceived","connected","status","setStatus","useEffect","WebSocket","onopen","e","console","log","time","Date","valueOf","onclose","onmessage","className","ghost","tags","color","title","extra","type","danger","onClick","close","undefined","icon","CloseCircleOutlined","disabled","PlusCircleOutlined","small","column","Item","label","length","TextArea","name","value","onChange","target","send","JSON","parse","header","map","r","Content","Layout","App","setURL","connections","setConnections","addConnection","u","key","index","c","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8WAKQA,EAAUC,IAAVD,MA+FOE,MA7Ff,YAAyC,IAAnBC,EAAkB,EAAlBA,IAAKC,EAAa,EAAbA,KAAMC,EAAO,EAAPA,IAAO,EACHC,qBADG,mBAChCC,EADgC,KACpBC,EADoB,OAEfF,mBAAS,IAFM,mBAEhCG,EAFgC,KAE1BC,EAF0B,OAIfJ,mBAAS,IAJM,mBAIhCK,EAJgC,KAI1BC,EAJ0B,OAKPN,mBAAS,IALF,mBAKhCO,EALgC,KAKtBC,EALsB,OAMXR,mBAAS,CAAES,WAAW,IANX,mBAMhCC,EANgC,KAMxBC,EANwB,KAuCvC,OAlBAC,qBAAU,WACJX,GAAYC,EAAc,IAAIW,UAAUhB,MAC3C,IAEHe,qBAAU,WACLX,IACHA,EAAWa,OAAS,SAACC,GACpBC,QAAQC,IAAI,CAAEC,MAAM,IAAIC,MAAOC,UAAWL,MAC1CJ,EAAU,2BAAKD,GAAN,IAAcD,WAAW,MAEnCR,EAAWoB,QAAU,SAACN,GACrBC,QAAQC,IAAI,CAAEC,MAAM,IAAIC,MAAOC,UAAWL,MAC1CJ,EAAU,2BAAKD,GAAN,IAAcD,WAAW,MAEnCR,EAAWqB,UAAY,SAACP,GAAD,OAAOP,EAAY,CAACO,GAAF,mBAAQR,UAKlD,qBAAKgB,UAAU,2BAAf,SACC,eAAC,IAAD,CACCC,OAAO,EACPC,KACEf,EAAOD,UAAa,cAAC,IAAD,CAAKiB,MAAM,QAAX,oBAAkC,cAAC,IAAD,CAAKA,MAAM,MAAX,qBAExDH,UAAU,mBACVI,MAAK,UAAK7B,GACV8B,MAAO,CACN,cAAC,IAAD,CAAQC,KAAK,UAAUC,QAAM,EAACC,QAnCrB,WACR9B,IACHA,EAAW+B,QACX9B,OAAc+B,KAgCiCC,KAAM,cAACC,EAAA,EAAD,IAAyBC,UAAW1B,EAAOD,UAA9F,mBACA,cAAC,IAAD,CAAQsB,QAAS,kBAAMhC,EAAIF,IAAMqC,KAAM,cAACG,EAAA,EAAD,IAAvC,wBATF,UAYC,eAAC,IAAD,CAAcC,MAAM,QAAQC,OAAQ,EAApC,UACC,cAAC,IAAaC,KAAd,CAAmBC,MAAM,MAAzB,SAA+B,4BAAI5C,MACnC,cAAC,IAAa2C,KAAd,CAAmBC,MAAM,aAAzB,SAAuCpC,EAAKqC,SAC5C,cAAC,IAAaF,KAAd,CAAmBC,MAAM,iBAAzB,SAA2ClC,EAASmC,SACpD,cAAC,IAAaF,KAAd,CAAmBC,MAAM,gBAAzB,SAA0ClC,EAAS,QAEpD,sBAAKgB,UAAU,0BAAf,UACC,sBAAKA,UAAU,4BAAf,UACC,cAAC,IAAMoB,SAAP,CAAgBpB,UAAU,kBAAkBqB,KAAK,aAAaf,KAAK,OAAOgB,MAAO1C,EAAMiC,UAAW1B,EAAOD,UAAWqC,SAAU,SAAA/B,GAAC,OAAIX,EAAQW,EAAEgC,OAAOF,UACpJ,cAAC,IAAD,CAAQtB,UAAU,uBAAuBQ,QAtDjC,WACZ9B,EAAW+C,KAAKC,KAAKC,MAAM/C,IAC3BG,EAAQ,GAAD,mBAAKD,GAAL,CAAWF,KAClBC,EAAQ,KAmDoDyB,KAAK,UAAUO,UAAW1B,EAAOD,UAAzF,qBAED,sBAAKc,UAAU,iCAAf,6BAAiEpB,EAAKuC,aAEvE,eAAC,IAAD,CAAUlB,OAAK,EAAf,UACC,cAAC9B,EAAD,CAAOyD,OAAO,oBAAd,SACC,qBAAK5B,UAAU,kBAAf,SACGhB,EAASmC,OAAS,EAAKnC,EAAS6C,KAAI,SAAAC,GAAC,OACtC,gCACC,+BAAOA,IACP,6BAEG,OAGP,cAAC3D,EAAD,CAAOyD,OAAO,gBAAd,SACC,qBAAK5B,UAAU,kBAAf,SACGlB,EAAKqC,OAAS,EAAKrC,EAAK+C,KAAI,SAAAC,GAAC,OAC9B,gCACC,+BAAOA,IACP,6BAEG,gBCrFJC,G,OAAYC,IAAZD,SAyBOE,MAvBf,WAAgB,IAAD,EACQxD,mBAAS,kCADjB,mBACPH,EADO,KACF4D,EADE,OAEwBzD,mBAAS,IAFjC,mBAEP0D,EAFO,KAEMC,EAFN,KAIRC,EAAgB,SAACC,GAAD,OAAOF,EAAe,CAAC,CAAE9D,IAAKgE,EAAG/D,KAAMA,cAAQgE,IAAKJ,EAAYhB,OAAQqB,MAAOL,EAAYhB,SAAtE,mBAAmFgB,MAE9H,OACC,qBAAKnC,UAAU,MAAf,SACC,cAAC,IAAD,CAAQA,UAAU,SAAlB,SACC,eAAC+B,EAAD,CAAS/B,UAAU,UAAnB,UACC,sBAAKA,UAAU,sBAAf,UACC,cAAC,IAAD,CAAOA,UAAU,YAAYsB,MAAOhD,EAAKiD,SAAU,SAAA/B,GAAC,OAAI0C,EAAO1C,EAAEgC,OAAOF,UACxE,cAAC,IAAD,CAAQtB,UAAU,gBAAgBQ,QAAS,kBAAM6B,EAAc/D,IAA/D,+BAED,qBAAK0B,UAAU,QAAf,SACEmC,EAAYN,KAAI,SAAAY,GAAC,OAAI,cAAC,EAAD,2BAAgBA,GAAhB,IAAmBjE,IAAK6D,kB,OChBpDK,IAASC,OACR,cAAC,IAAMC,WAAP,UACC,cAAC,EAAD,MAEDC,SAASC,eAAe,W","file":"static/js/main.4bcd9245.chunk.js","sourcesContent":["import { useEffect, useState } from 'react';\nimport { Button, Input, PageHeader, Descriptions, Collapse, Tag } from \"antd\";\nimport { CloseCircleOutlined, PlusCircleOutlined } from '@ant-design/icons';\nimport './Connection.css'\n\nconst { Panel } = Collapse;\n\nfunction Connection({ url, uuid, add }) {\n\tconst [connection, setConnection] = useState();\n\tconst [text, setText] = useState('');\n\t// TODO: Fix [] not having key\n\tconst [sent, setSent] = useState([]);\n\tconst [received, setReceived] = useState([]);\n\tconst [status, setStatus] = useState({ connected: false });\n\n\tconst send = () => {\n\t\tconnection.send(JSON.parse(text));\n\t\tsetSent([...sent, text]);\n\t\tsetText('');\n\t}\n\n\tconst exit = () => {\n\t\tif (connection) {\n\t\t\tconnection.close();\n\t\t\tsetConnection(undefined);\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tif (!connection) setConnection(new WebSocket(url));\n\t}, [])\n\n\tuseEffect(() => {\n\t\tif (connection) {\n\t\t\tconnection.onopen = (e) => {\n\t\t\t\tconsole.log({ time: new Date().valueOf(), e });\n\t\t\t\tsetStatus({ ...status, connected: true })\n\t\t\t}\n\t\t\tconnection.onclose = (e) => {\n\t\t\t\tconsole.log({ time: new Date().valueOf(), e });\n\t\t\t\tsetStatus({ ...status, connected: false })\n\t\t\t}\n\t\t\tconnection.onmessage = (e) => setReceived([e, ...received])\n\t\t}\n\t})\n\n\treturn (\n\t\t<div className='websocket-header-wrapper'>\n\t\t\t<PageHeader\n\t\t\t\tghost={false}\n\t\t\t\ttags={\n\t\t\t\t\t(status.connected) ? <Tag color=\"green\">Online</Tag> : <Tag color=\"red\">Offline</Tag>\n\t\t\t\t}\n\t\t\t\tclassName='websocket-header'\n\t\t\t\ttitle={`${uuid}`}\n\t\t\t\textra={[\n\t\t\t\t\t<Button type='primary' danger onClick={exit} icon={<CloseCircleOutlined />} disabled={!status.connected}>Close</Button>,\n\t\t\t\t\t<Button onClick={() => add(url)} icon={<PlusCircleOutlined />}>Duplicate</Button>\n\n\t\t\t\t]}>\n\t\t\t\t<Descriptions small='small' column={3}>\n\t\t\t\t\t<Descriptions.Item label='URL'><b>{url}</b></Descriptions.Item>\n\t\t\t\t\t<Descriptions.Item label='Total Sent'>{sent.length}</Descriptions.Item>\n\t\t\t\t\t<Descriptions.Item label='Total Received'>{received.length}</Descriptions.Item>\n\t\t\t\t\t<Descriptions.Item label='Last received'>{received[0]}</Descriptions.Item>\n\t\t\t\t</Descriptions>\n\t\t\t\t<div className=\"websocket-input-wrapper\">\n\t\t\t\t\t<div className='websocket-input-container'>\n\t\t\t\t\t\t<Input.TextArea className='websocket-input' name=\"Message...\" type=\"text\" value={text} disabled={!status.connected} onChange={e => setText(e.target.value)} />\n\t\t\t\t\t\t<Button className='websocket-input-send' onClick={send} type='primary' disabled={!status.connected}>Send</Button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='websocket-input-length-counter'>Message length: {text.length}</div>\n\t\t\t\t</div>\n\t\t\t\t<Collapse ghost>\n\t\t\t\t\t<Panel header='Received messages'>\n\t\t\t\t\t\t<div className='message-display'>\n\t\t\t\t\t\t\t{(received.length > 1) ? received.map(r => (\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<samp>{r}</samp>\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)) : \"\"}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Panel>\n\t\t\t\t\t<Panel header='Sent messages'>\n\t\t\t\t\t\t<div className='message-display'>\n\t\t\t\t\t\t\t{(sent.length > 1) ? sent.map(r => (\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<samp>{r}</samp>\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)) : \"\"}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Panel>\n\t\t\t\t</Collapse>\n\t\t\t</PageHeader>\n\t\t</div>\n\t);\n}\n\nexport default Connection;\n","import { Input, Layout, Button } from \"antd\";\nimport { useState } from 'react';\nimport { v4 as uuid } from 'uuid';\nimport Connection from './Connection';\nimport './App.css';\n\nconst { Content } = Layout;\n\nfunction App() {\n\tconst [url, setURL] = useState('ws://localhost:8999/connection');\n\tconst [connections, setConnections] = useState([]);\n\n\tconst addConnection = (u) => setConnections([{ url: u, uuid: uuid(), key: connections.length, index: connections.length }, ...connections])\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<Layout className=\"layout\">\n\t\t\t\t<Content className='content'>\n\t\t\t\t\t<div className=\"url-input-container\">\n\t\t\t\t\t\t<Input className='url-input' value={url} onChange={e => setURL(e.target.value)}></Input>\n\t\t\t\t\t\t<Button className='url-input-add' onClick={() => addConnection(url)}>Add connection</Button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"table\">\n\t\t\t\t\t\t{connections.map(c => <Connection {...c} add={addConnection} />)}\n\t\t\t\t\t</div>\n\t\t\t\t</Content>\n\t\t\t</Layout>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'antd/dist/antd.css';\n\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}